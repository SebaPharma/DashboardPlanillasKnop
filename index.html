
<!DOCTYPE html>
<html>
<head>
  <title>Estado de Planillas</title>
  <meta http-equiv="refresh" content="30"> <!-- Refrescar cada 30 segundos -->
</head>
<body>
  <h1>Estado de Planillas</h1>
  <div id="planillas"></div>

  <script>
    async function cargarDatos() {
      try {
        const response = await fetch('https://tuserverdomino/tudb.nsf/GetStatusPlanillas?OpenAgent');
        const planillas = await response.json();
        const contenedor = document.getElementById('planillas');
        contenedor.innerHTML = planillas.map(p => 
          `<p><strong>${p.titulo}</strong> - Estado: ${p.estado}</p>`
        ).join('');
      } catch (error) {
        console.error("Error al cargar datos:", error);
      }
    }

    cargarDatos(); // Cargar al inicio
    setInterval(cargarDatos, 30000); // Refrescar cada 30 segundos
  </script>
</body>
</html>
